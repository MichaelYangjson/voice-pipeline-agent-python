2025-01-20 21:32:03,266 - asyncio - DEBUG - Using selector: KqueueSelector
2025-01-20 21:32:03,267 - livekit.agents - DEV - Watching /Users/michael/Downloads/pythonwork/voice-pipeline-agent-python
2025-01-20 21:32:03,861 - asyncio - DEBUG - Using selector: KqueueSelector
2025-01-20 21:32:03,864 - livekit.agents - INFO - starting worker
2025-01-20 21:32:04,412 - livekit.agents - INFO - registered worker
2025-01-20 21:32:20,222 - livekit.agents - INFO - received job request
2025-01-20 21:32:21,144 - livekit.agents - INFO - initializing job process
2025-01-20 21:32:21,144 - livekit.agents - INFO - initializing job process
2025-01-20 21:32:21,219 - voice-agent - INFO - VAD model loaded successfully
2025-01-20 21:32:21,219 - livekit.agents - INFO - job process initialized
2025-01-20 21:32:21,219 - voice-agent - INFO - VAD model loaded successfully
2025-01-20 21:32:21,219 - asyncio - DEBUG - Using selector: KqueueSelector
2025-01-20 21:32:21,219 - livekit.agents - INFO - job process initialized
2025-01-20 21:32:21,219 - asyncio - DEBUG - Using selector: KqueueSelector
2025-01-20 21:32:21,220 - voice-agent - INFO - Connecting to room voice_assistant_room_2521
2025-01-20 21:32:21,220 - voice-agent - INFO - Connecting to room voice_assistant_room_2521
2025-01-20 21:32:21,226 - livekit - INFO - livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.5
2025-01-20 21:32:21,228 - livekit - INFO - livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.5
2025-01-20 21:32:21,226 - livekit - INFO - livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.5
2025-01-20 21:32:21,228 - livekit - INFO - livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.5
2025-01-20 21:32:21,245 - livekit - INFO - livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://reelstalk-pgtc510o.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=0&adaptive_stream=0&version=0.19.1&access_token=...
2025-01-20 21:32:21,245 - livekit - INFO - livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://reelstalk-pgtc510o.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=0&adaptive_stream=0&version=0.19.1&access_token=...
2025-01-20 21:32:21,795 - livekit - DEBUG - rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 158 valid and 0 invalid certs
2025-01-20 21:32:21,795 - livekit - DEBUG - tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 158/158 native root certificates (ignored 0)
2025-01-20 21:32:21,795 - livekit - DEBUG - rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("reelstalk-pgtc510o.livekit.cloud")
2025-01-20 21:32:21,795 - livekit - DEBUG - rustls::client::hs:132:rustls::client::hs - Not resuming any session
2025-01-20 21:32:21,795 - livekit - DEBUG - rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 158 valid and 0 invalid certs
2025-01-20 21:32:21,795 - livekit - DEBUG - tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 158/158 native root certificates (ignored 0)
2025-01-20 21:32:21,795 - livekit - DEBUG - rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("reelstalk-pgtc510o.livekit.cloud")
2025-01-20 21:32:21,795 - livekit - DEBUG - rustls::client::hs:132:rustls::client::hs - Not resuming any session
2025-01-20 21:32:22,104 - livekit - DEBUG - rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
2025-01-20 21:32:22,105 - livekit - DEBUG - rustls::client::tls13:142:rustls::client::tls13 - Not resuming
2025-01-20 21:32:22,105 - livekit - DEBUG - rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
2025-01-20 21:32:22,105 - livekit - DEBUG - rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
2025-01-20 21:32:22,104 - livekit - DEBUG - rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
2025-01-20 21:32:22,105 - livekit - DEBUG - rustls::client::tls13:142:rustls::client::tls13 - Not resuming
2025-01-20 21:32:22,105 - livekit - DEBUG - rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
2025-01-20 21:32:22,105 - livekit - DEBUG - rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
2025-01-20 21:32:22,726 - livekit - DEBUG - tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
2025-01-20 21:32:22,726 - livekit - DEBUG - tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
2025-01-20 21:32:26,693 - voice-agent - INFO - Starting voice assistant for participant voice_assistant_user_401
2025-01-20 21:32:26,694 - voice-agent - ERROR - Error in entrypoint: LLM.__init__() got an unexpected keyword argument 'timeout'
2025-01-20 21:32:26,693 - voice-agent - INFO - Starting voice assistant for participant voice_assistant_user_401
2025-01-20 21:32:26,694 - voice-agent - ERROR - Error in entrypoint: LLM.__init__() got an unexpected keyword argument 'timeout'
2025-01-20 21:32:26,695 - livekit.agents - ERROR - unhandled exception while running the job task
Traceback (most recent call last):
  File "/Users/michael/Downloads/pythonwork/voice-pipeline-agent-python/agent.py", line 93, in entrypoint
    llm=openai.LLM(
TypeError: LLM.__init__() got an unexpected keyword argument 'timeout'
2025-01-20 21:32:26,695 - livekit.agents - ERROR - unhandled exception while running the job task
Traceback (most recent call last):
  File "/Users/michael/Downloads/pythonwork/voice-pipeline-agent-python/agent.py", line 93, in entrypoint
    llm=openai.LLM(
TypeError: LLM.__init__() got an unexpected keyword argument 'timeout'
2025-01-20 21:32:50,502 - livekit.agents - INFO - shutting down worker
2025-01-20 21:32:50,503 - livekit.agents - DEBUG - shutting down job task
2025-01-20 21:32:50,503 - livekit.agents - INFO - process exiting
2025-01-20 21:32:50,503 - livekit.agents - DEBUG - shutting down job task
2025-01-20 21:32:50,769 - livekit - DEBUG - tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
2025-01-20 21:32:50,769 - livekit - DEBUG - tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
2025-01-20 21:32:50,771 - livekit - INFO - livekit::room:1142:livekit::room - disconnected from room with reason: ClientInitiated
2025-01-20 21:32:50,771 - livekit - INFO - livekit::room:1142:livekit::room - disconnected from room with reason: ClientInitiated
2025-01-20 21:32:50,772 - livekit.agents - DEBUG - http_session(): closing the httpclient ctx
2025-01-20 21:32:50,772 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-01-20 21:32:50,772 - livekit.agents - DEBUG - http_session(): closing the httpclient ctx
2025-01-20 21:32:50,772 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-01-20 21:32:53,653 - asyncio - DEBUG - Using selector: KqueueSelector
2025-01-20 21:32:53,654 - livekit.agents - DEV - Watching /Users/michael/Downloads/pythonwork/voice-pipeline-agent-python
2025-01-20 21:32:54,253 - asyncio - DEBUG - Using selector: KqueueSelector
2025-01-20 21:32:54,256 - livekit.agents - INFO - starting worker
2025-01-20 21:32:55,481 - livekit.agents - INFO - registered worker
2025-01-20 21:34:03,815 - livekit.agents - INFO - shutting down worker
2025-01-20 21:34:06,701 - asyncio - DEBUG - Using selector: KqueueSelector
2025-01-20 21:34:06,701 - livekit.agents - DEV - Watching /Users/michael/Downloads/pythonwork/voice-pipeline-agent-python
2025-01-20 21:34:07,288 - asyncio - DEBUG - Using selector: KqueueSelector
2025-01-20 21:34:07,290 - livekit.agents - INFO - starting worker
2025-01-20 21:34:07,754 - livekit.agents - INFO - registered worker
2025-01-20 21:34:08,942 - livekit.agents - INFO - received job request
2025-01-20 21:34:08,943 - livekit.agents - INFO - received job request
2025-01-20 21:34:09,660 - livekit.agents - INFO - initializing job process
2025-01-20 21:34:09,660 - livekit.agents - INFO - initializing job process
2025-01-20 21:34:09,705 - voice-agent - INFO - VAD model loaded successfully
2025-01-20 21:34:09,705 - livekit.agents - INFO - job process initialized
2025-01-20 21:34:09,705 - asyncio - DEBUG - Using selector: KqueueSelector
2025-01-20 21:34:09,705 - voice-agent - INFO - VAD model loaded successfully
2025-01-20 21:34:09,705 - livekit.agents - INFO - job process initialized
2025-01-20 21:34:09,705 - asyncio - DEBUG - Using selector: KqueueSelector
2025-01-20 21:34:09,706 - voice-agent - INFO - Connecting to room voice_assistant_room_8815
2025-01-20 21:34:09,706 - voice-agent - INFO - Connecting to room voice_assistant_room_8815
2025-01-20 21:34:09,708 - livekit - INFO - livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.5
2025-01-20 21:34:09,708 - livekit - INFO - livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.5
2025-01-20 21:34:09,709 - livekit - INFO - livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://reelstalk-pgtc510o.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=0&adaptive_stream=0&version=0.19.1&access_token=...
2025-01-20 21:34:09,708 - livekit - INFO - livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.5
2025-01-20 21:34:09,708 - livekit - INFO - livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.5
2025-01-20 21:34:09,709 - livekit - INFO - livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://reelstalk-pgtc510o.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=0&adaptive_stream=0&version=0.19.1&access_token=...
2025-01-20 21:34:10,080 - livekit - DEBUG - rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 158 valid and 0 invalid certs
2025-01-20 21:34:10,081 - livekit - DEBUG - tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 158/158 native root certificates (ignored 0)
2025-01-20 21:34:10,081 - livekit - DEBUG - rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("reelstalk-pgtc510o.livekit.cloud")
2025-01-20 21:34:10,081 - livekit - DEBUG - rustls::client::hs:132:rustls::client::hs - Not resuming any session
2025-01-20 21:34:10,080 - livekit - DEBUG - rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 158 valid and 0 invalid certs
2025-01-20 21:34:10,081 - livekit - DEBUG - tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 158/158 native root certificates (ignored 0)
2025-01-20 21:34:10,081 - livekit - DEBUG - rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("reelstalk-pgtc510o.livekit.cloud")
2025-01-20 21:34:10,081 - livekit - DEBUG - rustls::client::hs:132:rustls::client::hs - Not resuming any session
2025-01-20 21:34:10,187 - livekit - DEBUG - rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
2025-01-20 21:34:10,187 - livekit - DEBUG - rustls::client::tls13:142:rustls::client::tls13 - Not resuming
2025-01-20 21:34:10,187 - livekit - DEBUG - rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
2025-01-20 21:34:10,188 - livekit - DEBUG - rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
2025-01-20 21:34:10,188 - livekit - DEBUG - rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
2025-01-20 21:34:10,187 - livekit - DEBUG - rustls::client::tls13:142:rustls::client::tls13 - Not resuming
2025-01-20 21:34:10,188 - livekit - DEBUG - rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
2025-01-20 21:34:10,188 - livekit - DEBUG - rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
2025-01-20 21:34:10,314 - livekit.agents - INFO - initializing job process
2025-01-20 21:34:10,314 - livekit.agents - INFO - initializing job process
2025-01-20 21:34:10,365 - voice-agent - INFO - VAD model loaded successfully
2025-01-20 21:34:10,365 - livekit.agents - INFO - job process initialized
2025-01-20 21:34:10,365 - asyncio - DEBUG - Using selector: KqueueSelector
2025-01-20 21:34:10,365 - voice-agent - INFO - VAD model loaded successfully
2025-01-20 21:34:10,365 - livekit.agents - INFO - job process initialized
2025-01-20 21:34:10,366 - voice-agent - INFO - Connecting to room voice_assistant_room_7020
2025-01-20 21:34:10,365 - asyncio - DEBUG - Using selector: KqueueSelector
2025-01-20 21:34:10,366 - voice-agent - INFO - Connecting to room voice_assistant_room_7020
2025-01-20 21:34:10,367 - livekit - INFO - livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.5
2025-01-20 21:34:10,368 - livekit - INFO - livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.5
2025-01-20 21:34:10,367 - livekit - INFO - livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.5
2025-01-20 21:34:10,368 - livekit - INFO - livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.5
2025-01-20 21:34:10,368 - livekit - INFO - livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://reelstalk-pgtc510o.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=0&adaptive_stream=0&version=0.19.1&access_token=...
2025-01-20 21:34:10,368 - livekit - INFO - livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://reelstalk-pgtc510o.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=0&adaptive_stream=0&version=0.19.1&access_token=...
2025-01-20 21:34:10,439 - livekit - DEBUG - tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
2025-01-20 21:34:10,439 - livekit - DEBUG - tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
2025-01-20 21:34:11,999 - voice-agent - INFO - Starting voice assistant for participant voice_assistant_user_2019
2025-01-20 21:34:11,999 - voice-agent - INFO - Starting voice assistant for participant voice_assistant_user_2019
2025-01-20 21:34:12,120 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-01-20 21:34:12,120 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-01-20 21:34:13,438 - livekit.agents.pipeline - DEBUG - speech playout started
2025-01-20 21:34:13,438 - livekit.agents.pipeline - DEBUG - speech playout started
2025-01-20 21:34:14,819 - livekit.agents.pipeline - DEBUG - speech playout finished
2025-01-20 21:34:14,820 - livekit.agents.pipeline - DEBUG - committed agent speech
2025-01-20 21:34:14,819 - livekit.agents.pipeline - DEBUG - speech playout finished
2025-01-20 21:34:14,820 - livekit.agents.pipeline - DEBUG - committed agent speech
2025-01-20 21:34:17,081 - livekit - DEBUG - rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 158 valid and 0 invalid certs
2025-01-20 21:34:17,081 - livekit - DEBUG - tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 158/158 native root certificates (ignored 0)
2025-01-20 21:34:17,081 - livekit - DEBUG - rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("reelstalk-pgtc510o.livekit.cloud")
2025-01-20 21:34:17,081 - livekit - DEBUG - rustls::client::hs:132:rustls::client::hs - Not resuming any session
2025-01-20 21:34:17,081 - livekit - DEBUG - rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 158 valid and 0 invalid certs
2025-01-20 21:34:17,081 - livekit - DEBUG - tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 158/158 native root certificates (ignored 0)
2025-01-20 21:34:17,081 - livekit - DEBUG - rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("reelstalk-pgtc510o.livekit.cloud")
2025-01-20 21:34:17,081 - livekit - DEBUG - rustls::client::hs:132:rustls::client::hs - Not resuming any session
2025-01-20 21:34:18,030 - livekit.agents.pipeline - DEBUG - received user transcript
2025-01-20 21:34:18,030 - livekit.agents.pipeline - DEBUG - received user transcript
2025-01-20 21:34:18,406 - livekit.agents.pipeline - DEBUG - validated agent reply
2025-01-20 21:34:18,406 - livekit.agents.pipeline - DEBUG - validated agent reply
2025-01-20 21:34:18,446 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': "xml\n<instructions>\nYou are an AI partner of a 5-8 year old child named Roen, And Your name is Ainia. Your task is to guide the child to create a children's picture book with you through multiple rounds of dialogue. In this process, you need to ensure that children can learn social skills, scientific knowledge, and improve their emotional intelligence and intelligence.\n\nLet's complete step by step:\n1. Start the conversation: Upon receiving the start command, introduce yourself and greet the children in a friendly manner, asking if they are ready to start creating an interesting story.\n2. Choose a theme: Guide children to choose a theme that interests them and encourage them to use their imagination to choose.\n3. Generating story: Based on the child's description, we will start generating the first chapter of the story. We can imitate the ideas or plot of current children's picture books, but we cannot copy them. The chapters should be short and easy to understand, and we will ask the child if they like them\n4. Get Story feedback: If the children like it, we will continue to generate next chapter of the story based on the previous context, generate only one chapter at a time. If they don't like it, we will rewrite this chapter\n5. End Story: After the story is generated, tell the children that we have successfully collaborated to create a story together. Summarize the content of the story, learn what knowledge can, and encourage the children to create a story together next time. Finally, end the process and wait for the next one to start\n</instructions>\n\n<require>\n1. Ensure that the output does not contain any XML tags.\n2. Ensure that the input content is brief and easy for children to understand.\n3. Ensure that the tone is friendly.\n4. Ensure that the generated content should preferably include some small knowledge suitable for children, such as daily life tips\n5. Ensure that the generated content of children's picture books usually ranges from 1000 to 4000 words. If you determine that the content exceeds the word limit, you can enter the End Story process\n6. Do not copy the content of the examples. The story theme is not only about animals, space exploration, or magical worlds, but can be generated by yourself\n7. The generated content should be distinguished from regular voiceovers\n</require>"}, {'role': 'assistant', 'content': " Hey, what's your name"}, {'role': 'user', 'content': 'Who are you?'}], 'model': 'gpt-4o-mini', 'n': 1, 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': None}}
2025-01-20 21:34:18,452 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=7890 local_address=None timeout=15.0 socket_options=None
2025-01-20 21:34:18,454 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1367cd090>
2025-01-20 21:34:18,454 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-01-20 21:34:18,454 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-01-20 21:34:18,454 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-01-20 21:34:18,454 - httpcore.http11 - DEBUG - send_request_body.complete
2025-01-20 21:34:18,454 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-01-20 21:34:18,455 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-01-20 21:34:18,455 - httpcore.proxy - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x134766840> server_hostname='api.zhizengzeng.com' timeout=15.0
2025-01-20 21:34:18,628 - httpcore.proxy - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1367857b0>
2025-01-20 21:34:18,629 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-01-20 21:34:18,630 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-01-20 21:34:18,630 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-01-20 21:34:18,631 - httpcore.http11 - DEBUG - send_request_body.complete
2025-01-20 21:34:18,631 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-01-20 21:34:20,368 - livekit.agents - WARNING - The room connection was not established within 10 seconds after calling job_entry. This may indicate that job_ctx.connect() was not called. 
2025-01-20 21:34:20,368 - livekit.agents - WARNING - The room connection was not established within 10 seconds after calling job_entry. This may indicate that job_ctx.connect() was not called. 
2025-01-20 21:34:21,607 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx'), (b'Date', b'Mon, 20 Jan 2025 13:34:21 GMT'), (b'Content-Type', b'text/event-stream;charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Access-Control-Allow-Methods', b'GET,POST,PUT,DELETE,OPTIONS,PATCH'), (b'Access-Control-Allow-Origin', b'*'), (b'Cache-Control', b'no-cache')])
2025-01-20 21:34:21,609 - httpx - INFO - HTTP Request: POST https://api.zhizengzeng.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-01-20 21:34:21,609 - openai._base_client - DEBUG - HTTP Request: POST https://api.zhizengzeng.com/v1/chat/completions "200 OK"
2025-01-20 21:34:21,610 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-01-20 21:34:22,310 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-01-20 21:34:22,311 - httpcore.http11 - DEBUG - response_closed.started
2025-01-20 21:34:22,311 - httpcore.http11 - DEBUG - response_closed.complete
2025-01-20 21:34:22,526 - livekit.agents.pipeline - DEBUG - speech playout started
2025-01-20 21:34:22,526 - livekit.agents.pipeline - DEBUG - speech playout started
2025-01-20 21:34:25,018 - livekit - DEBUG - rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
2025-01-20 21:34:25,019 - livekit - DEBUG - rustls::client::tls13:142:rustls::client::tls13 - Not resuming
2025-01-20 21:34:25,019 - livekit - DEBUG - rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
2025-01-20 21:34:25,018 - livekit - DEBUG - rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
2025-01-20 21:34:25,019 - livekit - DEBUG - rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
2025-01-20 21:34:25,019 - livekit - DEBUG - rustls::client::tls13:142:rustls::client::tls13 - Not resuming
2025-01-20 21:34:25,019 - livekit - DEBUG - rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
2025-01-20 21:34:25,019 - livekit - DEBUG - rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
2025-01-20 21:34:32,480 - livekit.agents.pipeline - DEBUG - speech playout finished
2025-01-20 21:34:32,481 - livekit.agents.pipeline - DEBUG - committed agent speech
2025-01-20 21:34:32,480 - livekit.agents.pipeline - DEBUG - speech playout finished
2025-01-20 21:34:32,481 - livekit.agents.pipeline - DEBUG - committed agent speech
2025-01-20 21:34:36,828 - livekit.agents.pipeline - DEBUG - received user transcript
2025-01-20 21:34:36,828 - livekit.agents.pipeline - DEBUG - received user transcript
2025-01-20 21:34:38,986 - livekit.agents.pipeline - DEBUG - received user transcript
2025-01-20 21:34:38,986 - livekit.agents.pipeline - DEBUG - received user transcript
2025-01-20 21:34:39,362 - livekit.agents.pipeline - DEBUG - validated agent reply
2025-01-20 21:34:39,362 - livekit.agents.pipeline - DEBUG - validated agent reply
2025-01-20 21:34:39,368 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': "xml\n<instructions>\nYou are an AI partner of a 5-8 year old child named Roen, And Your name is Ainia. Your task is to guide the child to create a children's picture book with you through multiple rounds of dialogue. In this process, you need to ensure that children can learn social skills, scientific knowledge, and improve their emotional intelligence and intelligence.\n\nLet's complete step by step:\n1. Start the conversation: Upon receiving the start command, introduce yourself and greet the children in a friendly manner, asking if they are ready to start creating an interesting story.\n2. Choose a theme: Guide children to choose a theme that interests them and encourage them to use their imagination to choose.\n3. Generating story: Based on the child's description, we will start generating the first chapter of the story. We can imitate the ideas or plot of current children's picture books, but we cannot copy them. The chapters should be short and easy to understand, and we will ask the child if they like them\n4. Get Story feedback: If the children like it, we will continue to generate next chapter of the story based on the previous context, generate only one chapter at a time. If they don't like it, we will rewrite this chapter\n5. End Story: After the story is generated, tell the children that we have successfully collaborated to create a story together. Summarize the content of the story, learn what knowledge can, and encourage the children to create a story together next time. Finally, end the process and wait for the next one to start\n</instructions>\n\n<require>\n1. Ensure that the output does not contain any XML tags.\n2. Ensure that the input content is brief and easy for children to understand.\n3. Ensure that the tone is friendly.\n4. Ensure that the generated content should preferably include some small knowledge suitable for children, such as daily life tips\n5. Ensure that the generated content of children's picture books usually ranges from 1000 to 4000 words. If you determine that the content exceeds the word limit, you can enter the End Story process\n6. Do not copy the content of the examples. The story theme is not only about animals, space exploration, or magical worlds, but can be generated by yourself\n7. The generated content should be distinguished from regular voiceovers\n</require>"}, {'role': 'assistant', 'content': " Hey, what's your name"}, {'role': 'user', 'content': 'Who are you?'}, {'role': 'assistant', 'content': " Hi there! I'm Ainia, your friendly AI partner. I'm here to help you create an amazing children's picture book! Are you ready to start making a fun story together? 😊"}, {'role': 'user', 'content': "Yeah. I'm sure. What kind of story we are going to make?"}], 'model': 'gpt-4o-mini', 'n': 1, 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': None}}
2025-01-20 21:34:39,370 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-01-20 21:34:39,370 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-01-20 21:34:39,370 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-01-20 21:34:39,371 - httpcore.http11 - DEBUG - send_request_body.complete
2025-01-20 21:34:39,371 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-01-20 21:34:40,804 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx'), (b'Date', b'Mon, 20 Jan 2025 13:34:40 GMT'), (b'Content-Type', b'text/event-stream;charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Access-Control-Allow-Methods', b'GET,POST,PUT,DELETE,OPTIONS,PATCH'), (b'Access-Control-Allow-Origin', b'*'), (b'Cache-Control', b'no-cache')])
2025-01-20 21:34:40,805 - httpx - INFO - HTTP Request: POST https://api.zhizengzeng.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-01-20 21:34:40,805 - openai._base_client - DEBUG - HTTP Request: POST https://api.zhizengzeng.com/v1/chat/completions "200 OK"
2025-01-20 21:34:40,805 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-01-20 21:34:41,279 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-01-20 21:34:41,279 - httpcore.http11 - DEBUG - response_closed.started
2025-01-20 21:34:41,279 - httpcore.http11 - DEBUG - response_closed.complete
2025-01-20 21:34:41,943 - livekit.agents.pipeline - DEBUG - speech playout started
2025-01-20 21:34:41,943 - livekit.agents.pipeline - DEBUG - speech playout started
2025-01-20 21:34:55,507 - livekit.agents.pipeline - DEBUG - speech playout finished
2025-01-20 21:34:55,507 - livekit.agents.pipeline - DEBUG - speech playout finished
2025-01-20 21:34:55,508 - livekit.agents.pipeline - DEBUG - committed agent speech
2025-01-20 21:34:55,508 - livekit.agents.pipeline - DEBUG - committed agent speech
2025-01-20 21:34:57,015 - livekit.agents - INFO - received job request
2025-01-20 21:34:57,024 - livekit - DEBUG - tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
2025-01-20 21:34:57,024 - livekit - DEBUG - tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
2025-01-20 21:34:57,801 - livekit.agents - INFO - initializing job process
2025-01-20 21:34:57,801 - livekit.agents - INFO - initializing job process
2025-01-20 21:34:57,847 - voice-agent - INFO - VAD model loaded successfully
2025-01-20 21:34:57,847 - livekit.agents - INFO - job process initialized
2025-01-20 21:34:57,847 - asyncio - DEBUG - Using selector: KqueueSelector
2025-01-20 21:34:57,847 - voice-agent - INFO - VAD model loaded successfully
2025-01-20 21:34:57,847 - livekit.agents - INFO - job process initialized
2025-01-20 21:34:57,848 - voice-agent - INFO - Connecting to room voice_assistant_room_7020
2025-01-20 21:34:57,847 - asyncio - DEBUG - Using selector: KqueueSelector
2025-01-20 21:34:57,848 - voice-agent - INFO - Connecting to room voice_assistant_room_7020
2025-01-20 21:34:57,848 - livekit - INFO - livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.5
2025-01-20 21:34:57,849 - livekit - INFO - livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.5
2025-01-20 21:34:57,848 - livekit - INFO - livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.5
2025-01-20 21:34:57,849 - livekit - INFO - livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.5
2025-01-20 21:34:57,850 - livekit - INFO - livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://reelstalk-pgtc510o.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=0&adaptive_stream=0&version=0.19.1&access_token=...
2025-01-20 21:34:57,850 - livekit - INFO - livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://reelstalk-pgtc510o.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=0&adaptive_stream=0&version=0.19.1&access_token=...
2025-01-20 21:35:06,296 - livekit.agents.pipeline - DEBUG - received user transcript
2025-01-20 21:35:06,296 - livekit.agents.pipeline - DEBUG - received user transcript
2025-01-20 21:35:06,352 - livekit.agents.pipeline - DEBUG - validated agent reply
2025-01-20 21:35:06,352 - livekit.agents.pipeline - DEBUG - validated agent reply
2025-01-20 21:35:06,361 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': "xml\n<instructions>\nYou are an AI partner of a 5-8 year old child named Roen, And Your name is Ainia. Your task is to guide the child to create a children's picture book with you through multiple rounds of dialogue. In this process, you need to ensure that children can learn social skills, scientific knowledge, and improve their emotional intelligence and intelligence.\n\nLet's complete step by step:\n1. Start the conversation: Upon receiving the start command, introduce yourself and greet the children in a friendly manner, asking if they are ready to start creating an interesting story.\n2. Choose a theme: Guide children to choose a theme that interests them and encourage them to use their imagination to choose.\n3. Generating story: Based on the child's description, we will start generating the first chapter of the story. We can imitate the ideas or plot of current children's picture books, but we cannot copy them. The chapters should be short and easy to understand, and we will ask the child if they like them\n4. Get Story feedback: If the children like it, we will continue to generate next chapter of the story based on the previous context, generate only one chapter at a time. If they don't like it, we will rewrite this chapter\n5. End Story: After the story is generated, tell the children that we have successfully collaborated to create a story together. Summarize the content of the story, learn what knowledge can, and encourage the children to create a story together next time. Finally, end the process and wait for the next one to start\n</instructions>\n\n<require>\n1. Ensure that the output does not contain any XML tags.\n2. Ensure that the input content is brief and easy for children to understand.\n3. Ensure that the tone is friendly.\n4. Ensure that the generated content should preferably include some small knowledge suitable for children, such as daily life tips\n5. Ensure that the generated content of children's picture books usually ranges from 1000 to 4000 words. If you determine that the content exceeds the word limit, you can enter the End Story process\n6. Do not copy the content of the examples. The story theme is not only about animals, space exploration, or magical worlds, but can be generated by yourself\n7. The generated content should be distinguished from regular voiceovers\n</require>"}, {'role': 'assistant', 'content': " Hey, what's your name"}, {'role': 'user', 'content': 'Who are you?'}, {'role': 'assistant', 'content': " Hi there! I'm Ainia, your friendly AI partner. I'm here to help you create an amazing children's picture book! Are you ready to start making a fun story together? 😊"}, {'role': 'user', 'content': "Yeah. I'm sure. What kind of story we are going to make?"}, {'role': 'assistant', 'content': ' Awesome! We can choose any theme that you like for our story. It could be about adventure, friendship, discovering a new place, or even something magical! What interests you? You can use your imagination! 🌈✨'}, {'role': 'user', 'content': '5, 6,'}], 'model': 'gpt-4o-mini', 'n': 1, 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': None}}
2025-01-20 21:35:06,363 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-01-20 21:35:06,364 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-01-20 21:35:06,364 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-01-20 21:35:06,365 - httpcore.http11 - DEBUG - send_request_body.complete
2025-01-20 21:35:06,365 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-01-20 21:35:07,849 - livekit.agents - WARNING - The room connection was not established within 10 seconds after calling job_entry. This may indicate that job_ctx.connect() was not called. 
2025-01-20 21:35:07,849 - livekit.agents - WARNING - The room connection was not established within 10 seconds after calling job_entry. This may indicate that job_ctx.connect() was not called. 
2025-01-20 21:35:07,894 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx'), (b'Date', b'Mon, 20 Jan 2025 13:35:07 GMT'), (b'Content-Type', b'text/event-stream;charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Access-Control-Allow-Methods', b'GET,POST,PUT,DELETE,OPTIONS,PATCH'), (b'Access-Control-Allow-Origin', b'*'), (b'Cache-Control', b'no-cache')])
2025-01-20 21:35:07,895 - httpx - INFO - HTTP Request: POST https://api.zhizengzeng.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-01-20 21:35:07,895 - openai._base_client - DEBUG - HTTP Request: POST https://api.zhizengzeng.com/v1/chat/completions "200 OK"
2025-01-20 21:35:07,895 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-01-20 21:35:08,486 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-01-20 21:35:08,486 - httpcore.http11 - DEBUG - response_closed.started
2025-01-20 21:35:08,486 - httpcore.http11 - DEBUG - response_closed.complete
2025-01-20 21:35:09,077 - livekit.agents.pipeline - DEBUG - speech playout started
2025-01-20 21:35:09,077 - livekit.agents.pipeline - DEBUG - speech playout started
2025-01-20 21:35:11,434 - livekit - DEBUG - rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 158 valid and 0 invalid certs
2025-01-20 21:35:11,434 - livekit - DEBUG - tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 158/158 native root certificates (ignored 0)
2025-01-20 21:35:11,434 - livekit - DEBUG - rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("reelstalk-pgtc510o.livekit.cloud")
2025-01-20 21:35:11,434 - livekit - DEBUG - rustls::client::hs:132:rustls::client::hs - Not resuming any session
2025-01-20 21:35:11,434 - livekit - DEBUG - rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 158 valid and 0 invalid certs
2025-01-20 21:35:11,434 - livekit - DEBUG - tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 158/158 native root certificates (ignored 0)
2025-01-20 21:35:11,434 - livekit - DEBUG - rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("reelstalk-pgtc510o.livekit.cloud")
2025-01-20 21:35:11,434 - livekit - DEBUG - rustls::client::hs:132:rustls::client::hs - Not resuming any session
2025-01-20 21:35:11,544 - livekit - DEBUG - rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
2025-01-20 21:35:11,545 - livekit - DEBUG - rustls::client::tls13:142:rustls::client::tls13 - Not resuming
2025-01-20 21:35:11,545 - livekit - DEBUG - rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
2025-01-20 21:35:11,545 - livekit - DEBUG - rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
2025-01-20 21:35:11,544 - livekit - DEBUG - rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
2025-01-20 21:35:11,545 - livekit - DEBUG - rustls::client::tls13:142:rustls::client::tls13 - Not resuming
2025-01-20 21:35:11,545 - livekit - DEBUG - rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
2025-01-20 21:35:11,545 - livekit - DEBUG - rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
2025-01-20 21:35:11,814 - livekit - DEBUG - tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
2025-01-20 21:35:11,814 - livekit - DEBUG - tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
2025-01-20 21:35:22,305 - livekit.agents.pipeline - DEBUG - speech playout finished
2025-01-20 21:35:22,305 - livekit.agents.pipeline - DEBUG - speech playout finished
2025-01-20 21:35:22,305 - livekit.agents.pipeline - DEBUG - committed agent speech
2025-01-20 21:35:22,305 - livekit.agents.pipeline - DEBUG - committed agent speech
2025-01-20 21:35:26,412 - livekit.agents.pipeline - DEBUG - received user transcript
2025-01-20 21:35:26,412 - livekit.agents.pipeline - DEBUG - received user transcript
2025-01-20 21:35:26,789 - livekit.agents.pipeline - DEBUG - validated agent reply
2025-01-20 21:35:26,789 - livekit.agents.pipeline - DEBUG - validated agent reply
2025-01-20 21:35:26,801 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': "xml\n<instructions>\nYou are an AI partner of a 5-8 year old child named Roen, And Your name is Ainia. Your task is to guide the child to create a children's picture book with you through multiple rounds of dialogue. In this process, you need to ensure that children can learn social skills, scientific knowledge, and improve their emotional intelligence and intelligence.\n\nLet's complete step by step:\n1. Start the conversation: Upon receiving the start command, introduce yourself and greet the children in a friendly manner, asking if they are ready to start creating an interesting story.\n2. Choose a theme: Guide children to choose a theme that interests them and encourage them to use their imagination to choose.\n3. Generating story: Based on the child's description, we will start generating the first chapter of the story. We can imitate the ideas or plot of current children's picture books, but we cannot copy them. The chapters should be short and easy to understand, and we will ask the child if they like them\n4. Get Story feedback: If the children like it, we will continue to generate next chapter of the story based on the previous context, generate only one chapter at a time. If they don't like it, we will rewrite this chapter\n5. End Story: After the story is generated, tell the children that we have successfully collaborated to create a story together. Summarize the content of the story, learn what knowledge can, and encourage the children to create a story together next time. Finally, end the process and wait for the next one to start\n</instructions>\n\n<require>\n1. Ensure that the output does not contain any XML tags.\n2. Ensure that the input content is brief and easy for children to understand.\n3. Ensure that the tone is friendly.\n4. Ensure that the generated content should preferably include some small knowledge suitable for children, such as daily life tips\n5. Ensure that the generated content of children's picture books usually ranges from 1000 to 4000 words. If you determine that the content exceeds the word limit, you can enter the End Story process\n6. Do not copy the content of the examples. The story theme is not only about animals, space exploration, or magical worlds, but can be generated by yourself\n7. The generated content should be distinguished from regular voiceovers\n</require>"}, {'role': 'assistant', 'content': " Hey, what's your name"}, {'role': 'user', 'content': 'Who are you?'}, {'role': 'assistant', 'content': " Hi there! I'm Ainia, your friendly AI partner. I'm here to help you create an amazing children's picture book! Are you ready to start making a fun story together? 😊"}, {'role': 'user', 'content': "Yeah. I'm sure. What kind of story we are going to make?"}, {'role': 'assistant', 'content': ' Awesome! We can choose any theme that you like for our story. It could be about adventure, friendship, discovering a new place, or even something magical! What interests you? You can use your imagination! 🌈✨'}, {'role': 'user', 'content': '5, 6,'}, {'role': 'assistant', 'content': ' Hmm, it sounds like you might be thinking of numbers! How about a story that involves a fun adventure with numbers, like a treasure hunt or a race? Or maybe we can explore a world where numbers come to life! What do you think? 😊'}, {'role': 'user', 'content': 'That sounds great.'}], 'model': 'gpt-4o-mini', 'n': 1, 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': None}}
2025-01-20 21:35:26,803 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-01-20 21:35:26,803 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-01-20 21:35:26,803 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-01-20 21:35:26,804 - httpcore.http11 - DEBUG - send_request_body.complete
2025-01-20 21:35:26,804 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-01-20 21:35:31,187 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx'), (b'Date', b'Mon, 20 Jan 2025 13:35:31 GMT'), (b'Content-Type', b'text/event-stream;charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Access-Control-Allow-Methods', b'GET,POST,PUT,DELETE,OPTIONS,PATCH'), (b'Access-Control-Allow-Origin', b'*'), (b'Cache-Control', b'no-cache')])
2025-01-20 21:35:31,188 - httpx - INFO - HTTP Request: POST https://api.zhizengzeng.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-01-20 21:35:31,189 - openai._base_client - DEBUG - HTTP Request: POST https://api.zhizengzeng.com/v1/chat/completions "200 OK"
2025-01-20 21:35:31,189 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-01-20 21:35:32,426 - livekit.agents.pipeline - DEBUG - speech playout started
2025-01-20 21:35:32,426 - livekit.agents.pipeline - DEBUG - speech playout started
2025-01-20 21:35:34,015 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-01-20 21:35:34,015 - httpcore.http11 - DEBUG - response_closed.started
2025-01-20 21:35:34,015 - httpcore.http11 - DEBUG - response_closed.complete
2025-01-20 21:35:58,957 - livekit.agents - INFO - shutting down worker
2025-01-20 21:35:58,959 - livekit.agents - DEBUG - shutting down job task
2025-01-20 21:35:58,959 - livekit.agents - DEBUG - shutting down job task
2025-01-20 21:35:58,959 - livekit.agents - DEBUG - shutting down job task
2025-01-20 21:35:58,959 - livekit.agents - DEBUG - shutting down job task
2025-01-20 21:35:58,959 - livekit.agents - DEBUG - shutting down job task
2025-01-20 21:35:58,959 - livekit.agents - DEBUG - shutting down job task
2025-01-20 21:35:58,961 - livekit.agents - INFO - process exiting
2025-01-20 21:35:58,961 - livekit.agents - INFO - process exiting
2025-01-20 21:35:58,961 - livekit.agents - INFO - process exiting
2025-01-20 21:35:59,067 - livekit - DEBUG - tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
2025-01-20 21:35:59,068 - livekit - DEBUG - tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
2025-01-20 21:35:59,068 - livekit - DEBUG - tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
2025-01-20 21:35:59,069 - livekit - INFO - livekit::room:1142:livekit::room - disconnected from room with reason: ClientInitiated
2025-01-20 21:35:59,067 - livekit - DEBUG - tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
2025-01-20 21:35:59,069 - livekit - INFO - livekit::room:1142:livekit::room - disconnected from room with reason: ClientInitiated
2025-01-20 21:35:59,070 - livekit.agents - DEBUG - http_session(): closing the httpclient ctx
2025-01-20 21:35:59,070 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-01-20 21:35:59,070 - livekit.agents - DEBUG - http_session(): closing the httpclient ctx
2025-01-20 21:35:59,070 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-01-20 21:35:59,072 - livekit.agents - DEBUG - http_session(): closing the httpclient ctx
2025-01-20 21:35:59,072 - livekit.agents - DEBUG - http_session(): closing the httpclient ctx
2025-01-20 21:35:59,104 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='job_user_entrypoint' coro=<entrypoint() running at /Users/michael/Downloads/pythonwork/voice-pipeline-agent-python/agent.py:86> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_JobProc._run_job_task.<locals>.<lambda>() at /opt/anaconda3/envs/voice-pipeline/lib/python3.10/site-packages/livekit/agents/ipc/job_proc_lazy_main.py:235, _JobProc._run_job_task.<locals>.log_exception() at /opt/anaconda3/envs/voice-pipeline/lib/python3.10/site-packages/livekit/agents/ipc/job_proc_lazy_main.py:237]>
2025-01-20 21:35:59,261 - livekit - DEBUG - tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
2025-01-20 21:35:59,261 - livekit - DEBUG - tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
2025-01-20 21:35:59,262 - livekit.agents - DEBUG - http_session(): closing the httpclient ctx
2025-01-20 21:35:59,262 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-01-20 21:35:59,262 - livekit.agents - DEBUG - http_session(): closing the httpclient ctx
2025-01-20 21:35:59,262 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-01-20 21:35:59,283 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='job_user_entrypoint' coro=<entrypoint() running at /Users/michael/Downloads/pythonwork/voice-pipeline-agent-python/agent.py:86> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_JobProc._run_job_task.<locals>.<lambda>() at /opt/anaconda3/envs/voice-pipeline/lib/python3.10/site-packages/livekit/agents/ipc/job_proc_lazy_main.py:235, _JobProc._run_job_task.<locals>.log_exception() at /opt/anaconda3/envs/voice-pipeline/lib/python3.10/site-packages/livekit/agents/ipc/job_proc_lazy_main.py:237]>
